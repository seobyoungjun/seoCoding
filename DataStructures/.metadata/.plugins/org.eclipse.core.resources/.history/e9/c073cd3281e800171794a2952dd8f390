import java.util.ArrayList;
import java.util.Scanner;

public class MaximumElement {
	public static void main(String[] args) {
		Scanner in = new Scanner(System.in);
		ArrayList<Integer> list = new ArrayList<>();
		int N = in.nextInt();
		for(int i=0; i<N; i++){
            int type = in.nextInt();
            int x = in.nextInt();
            switch(type){
            	case 1:
            		list.add(x);
            		break;
            	case 2:
            		if(list.size()>0)
            			list.remove(0);
            		break;
            	case 3:
            		int max = 1;
            		for(int j=0; j<list.size(); j++)
            			max = max < list.get(j) ? list.get(j) : max;
            		System.out.println(max);
            		break;
            }
        }
	}
}
