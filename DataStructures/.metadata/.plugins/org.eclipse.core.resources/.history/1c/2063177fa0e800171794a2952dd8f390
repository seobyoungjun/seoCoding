import java.util.ArrayList;
import java.util.Collections;
import java.util.Scanner;

public class MaximumElement {
	
	public static void main(String[] args) {
		Scanner in = new Scanner(System.in);
		ArrayList<Integer> list = new ArrayList<>();
		int maxIndex = 0;
		int N = in.nextInt();
		for(int i=0; i<N; i++){
            int type = in.nextInt(); 
            switch(type){
            	case 1:
            		int x = in.nextInt();
            		list.add(x);
            		if(list.size() > 0)
            			maxIndex = list.get(maxIndex) < list.get(list.size()-1) ? list.size()-1 : maxIndex;
            		System.out.println("x : " + x +" / maxIndex : " + maxIndex);
            		break;
            	case 2:
            		if(maxIndex == 0){
            			if(list.size()>0)
                			list.remove(0);
            			for(int j=0; j<list.size(); j++)
            				maxIndex = list.get(maxIndex) < list.get(j) ? j : maxIndex;
            		}else{
            			if(list.size()>0)
                			list.remove(0);
            			maxIndex--;
            		}
            			
            		break;
            	case 3:
            		System.out.println(list.get(maxIndex));
            		break;
            }
        }
	}
}
